import{_ as F,g as i,o as k,d as g,e as o,f as y,t as A,i as d,v as n,m as I,F as M,r as q,a as S,u as V,y as P,h as U,b as O,n as B,A as T}from"./index-OoNJnWaS.js";import{F as C}from"./FormButton-Dg-g-ndQ.js";import{c as L}from"./colorsPickerColors-BRaJAOBD.js";const z={class:"add-office-page md:w-1/2 mx-auto"},R={class:"navigation relative"},$={class:"grid justify-center"},j={class:"form-group bg-white rounded-md h-10 grid items-center"},H={class:"form-group my-2 bg-white rounded-md h-10 grid items-center"},G={class:"form-group my-2 bg-white rounded-md h-10 grid items-center"},J={class:"form-group my-2 bg-white rounded-md h-10 grid items-center"},K={class:"form-group my-2 bg-white rounded-md h-10 grid items-center"},Q={class:"py-2 px-4 pt-0"},W={class:"color-circles"},X=["onClick"],Y={class:"modal-actions mt-5"},Z={__name:"AddOrEditOfficePage",props:{id:{type:String,required:!1}},setup(_){const E=i(L),x=S(),l=V(),r=P().query.mode==="edit",c=i(""),f=i(""),u=i(""),m=i(""),p=i(""),v=i(""),b=i([]),a=_;k(async()=>{if(r){const s=a.id;try{const e=await l.dispatch("fetchOfficeById",s);console.log("Fetched office:",e),c.value=e.name||"",f.value=e.address||"",u.value=e.email||"",m.value=e.phoneNumber||"",p.value=e.capacity||"",v.value=e.selectedColor||"",b.value=e.staffMembersInOffice||[]}catch(e){console.error("Error fetching office details:",e)}}});async function w(){const s={name:c.value,address:f.value,email:u.value,phoneNumber:m.value,capacity:p.value,selectedColor:v.value,staffMembersInOffice:b.value};try{r&&a.id?(console.log("Editing office"),console.log("Office data:",s),l.dispatch("editOffice",{officeId:a.id,office:s})):l.dispatch("addOffice",{office:s}),await l.dispatch("fetchOffices")}catch(e){console.error("Failed to submit form",e)}h()}async function N(){if(console.log("Deleting office"),a.id)try{await l.dispatch("deleteOffice",a.id),h()}catch(s){console.error("Error deleting office:",s)}}const h=()=>{x.push("/")};return(s,e)=>{const D=U("font-awesome-icon");return O(),g("div",z,[o("span",R,[y(D,{onClick:h,class:"absolute",icon:"arrow-left"}),o("span",$,A(a.id?"Edit Office":"New Office"),1)]),o("form",{class:"p-2 text-sm",onSubmit:e[5]||(e[5]=I((...t)=>s.handleSubmit&&s.handleSubmit(...t),["prevent"]))},[o("div",j,[d(o("input",{class:"ml-2",type:"text",id:"firstName",required:"","onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t),placeholder:"Office name"},null,512),[[n,c.value]])]),o("div",H,[d(o("input",{class:"ml-2",type:"text",id:"lastName",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t),placeholder:"Physical Address"},null,512),[[n,f.value]])]),o("div",G,[d(o("input",{class:"ml-2",type:"text",id:"lastName",required:"","onUpdate:modelValue":e[2]||(e[2]=t=>u.value=t),placeholder:"Email Address"},null,512),[[n,u.value]])]),o("div",J,[d(o("input",{class:"ml-2",type:"text",id:"lastName",required:"","onUpdate:modelValue":e[3]||(e[3]=t=>m.value=t),placeholder:"Phone Number"},null,512),[[n,m.value]])]),o("div",K,[d(o("input",{class:"ml-2",type:"text",id:"lastName",required:"","onUpdate:modelValue":e[4]||(e[4]=t=>p.value=t),placeholder:"Maximum Capacity"},null,512),[[n,p.value]])])],32),o("div",Q,[e[7]||(e[7]=o("h2",{class:"text-xl font-bold mb-3"},"Office Color:",-1)),o("div",W,[(O(!0),g(M,null,q(E.value,t=>(O(),g("div",{key:t.id,class:B(["color-circle",["color-circle",{selected:v.value===t.id}]]),style:T({backgroundColor:t.color}),onClick:te=>v.value=t.id},null,14,X))),128))])]),o("div",Y,[y(C,{text:r?"UPDATE OFFICE":"ADD OFFICE",backgroundColor:"#489DDA",onClick:w},null,8,["text"]),y(C,{text:r?"DELETE OFFICE":"CANCEL",onClick:e[6]||(e[6]=t=>r?N():h()),fontColor:"#489DDA",class:"mt-2"},null,8,["text"])])])}}},ae=F(Z,[["__scopeId","data-v-3f50701d"]]);export{ae as default};
