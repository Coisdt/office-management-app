import{g as _,w as L,h as x,b as n,d,i as E,v as N,e,f as l,_ as F,j as M,k as w,l as Q,T as j,u as B,c as I,t as C,m as P,F as T,r as R,n as V,p as S,q as z,s as $,o as K,x as W,a as Y,y as G}from"./index-DXCuIniJ.js";import{_ as H,O as J}from"./ActionButton-nCgYCRux.js";import{F as y}from"./FormButton-OJz-17oH.js";import"./colorsPickerColors-BRaJAOBD.js";const X={class:"relative w-full md:max-w-[400px] lg:max-w-[400px] mb-4 mt-6"},Z={__name:"Searchbar",emits:["update:searchQuery"],setup(c,{emit:a}){const s=a,o=_("");return L(o,r=>{s("update:searchQuery",r)}),(r,t)=>{const i=x("font-awesome-icon");return n(),d("div",X,[E(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=f=>o.value=f),placeholder:"Search staff members...",class:"mb-4 p-2 border rounded relative w-full"},null,512),[[N,o.value]]),l(i,{class:"absolute top-3 right-3",icon:"search"})])}}},q=[{id:1,src:new URL("/office-management-app/assets/Avatar1-CDYrLE3t.png",import.meta.url).href},{id:2,src:new URL("/office-management-app/assets/Avatar2-C9iQcfbC.png",import.meta.url).href},{id:3,src:new URL("/office-management-app/assets/Avatar3-BTK9v-Q6.png",import.meta.url).href},{id:4,src:new URL("/office-management-app/assets/Avatar4-DoVe2Iol.png",import.meta.url).href},{id:5,src:new URL("/office-management-app/assets/Avatar5-CNYBcc65.png",import.meta.url).href},{id:6,src:new URL("/office-management-app/assets/Avatar6-DGNaQqJr.png",import.meta.url).href},{id:7,src:new URL("/office-management-app/assets/Avatar7-C0Wv6WRP.png",import.meta.url).href}],ee={class:"modal"},te={class:"modal-content w-[90%] sm:w-[80%] md:w-[60%] lg:w-[30%] xl:w-[30%] max-h-[90vh] overflow-auto grid grid-cols-1 relative"},se={__name:"BaseModal",props:{showCloseButton:{type:Boolean,default:!0}},emits:["close"],setup(c,{emit:a}){const s=a,o=c;function r(){s("close")}return(t,i)=>{const f=x("font-awesome-icon");return n(),M(j,{to:"#modals"},[e("div",ee,[e("div",te,[o.showCloseButton?(n(),d("span",{key:0,class:"float-right close absolute right-2 top-2 border border-black rounded-full shadow-lg size-6",onClick:r},[l(f,{class:"absolute top-[5px] right-[5px] size-3 cursor-pointer",icon:["fas","times"]})])):w("",!0),Q(t.$slots,"default",{},void 0,!0)])])])}}},O=F(se,[["__scopeId","data-v-7ad8384b"]]),oe={class:"grid gap-2"},ae={__name:"OptionsModal",props:{staffMember:{type:Object,required:!0,default:()=>[]},office:{type:Object,required:!0,default:()=>[]}},emits:["close","open-edit-modal","open-confirmation-modal"],setup(c,{emit:a}){const s=a;function o(){r(),t()}function r(){s("close")}function t(){s("open-edit-modal")}function i(){s("open-confirmation-modal"),r()}return(f,b)=>(n(),d("div",oe,[l(y,{text:"EDIT STAFF MEMBER",backgroundColor:"#489DDA",onClick:o}),l(y,{text:"DELETE STAFF MEMBER",fontColor:"red",onClick:i})]))}},re={key:0},ne={class:"font-bold text-xl"},ie={class:"form-group my-2 bg-white rounded-md h-10 grid items-center"},le={class:"form-group my-2 bg-white rounded-md h-10 grid items-center"},ce={class:"modal-actions mt-4"},fe={key:1},de={class:"navigation grid grid-cols-[auto_1fr] items-center gap-2"},me={class:"font-bold text-xl"},ue={class:"avatars-container p-4 grid grid-cols-2 items-center my-0 mx-auto"},pe=["src","alt","onClick"],_e={class:"text-red-500 text-center"},ve={__name:"AddOrEditStaffModal",props:{office:{type:Object,required:!0,default:()=>({})},staffMember:{type:Object,default:null}},emits:["close"],setup(c,{emit:a}){const s=a,o=c,r=_(!0),t=_(""),i=_(""),f=_(""),b=_(!1),g=B(),m=I(()=>t.value.trim()!==""&&i.value.trim()!==""&&f.value!=="");L(()=>o.staffMember,u=>{u?(t.value=u.firstName||"",i.value=u.lastName||"",f.value=u.imageId||""):(t.value="",i.value="",f.value="")},{immediate:!0});function k(){r.value=!r.value}function h(){r.value=!r.value}async function A(){if(!m.value){b.value=!0;return}const u={firstName:t.value,lastName:i.value,imageId:f.value};try{o.staffMember?g.dispatch("editStaffMember",{officeId:o.office.id,staffMemberId:o.staffMember.id,staffMember:u}):(g.dispatch("addStaffMember",{officeId:o.office.id,staffMember:u}),await g.dispatch("fetchOffices")),s("close")}catch(p){console.error("Failed to submit form",p)}}return(u,p)=>{const D=x("font-awesome-icon");return r.value?(n(),d("div",re,[e("h2",ne,C(o.staffMember?"Edit Staff Member":"New Staff Member"),1),e("form",{onSubmit:p[2]||(p[2]=P((...v)=>u.handleSubmit&&u.handleSubmit(...v),["prevent"])),class:"md:w-[70%] lg:w-[70%] items-center my-0 mx-auto p-3"},[e("div",ie,[E(e("input",{class:"ml-2 w-[90%]",type:"text",id:"firstName",required:"","onUpdate:modelValue":p[0]||(p[0]=v=>t.value=v),placeholder:"First name"},null,512),[[N,t.value]])]),e("div",le,[E(e("input",{class:"ml-2 w-[90%]",type:"text",id:"lastName",required:"","onUpdate:modelValue":p[1]||(p[1]=v=>i.value=v),placeholder:"Last name"},null,512),[[N,i.value]])])],32),p[3]||(p[3]=e("div",{class:"carousel-dots"},[e("span",{class:"dot active"}),e("span",{class:"dot"})],-1)),e("div",ce,[l(y,{text:"NEXT",backgroundColor:"#489DDA",onClick:h})])])):(n(),d("div",fe,[e("span",de,[l(D,{class:"cursor-pointer",onClick:k,icon:"arrow-left"}),e("h2",me,C(o.staffMember?"Edit Staff Member":"New Staff Member"),1)]),e("div",ue,[(n(!0),d(T,null,R(S(q),v=>(n(),d("div",{key:v.id,class:V(["avatar",{selected:f.value===v.id-1}])},[e("img",{src:v.src,alt:"Avatar "+v.id,onClick:Te=>f.value=v.id-1},null,8,pe)],2))),128))]),p[4]||(p[4]=e("div",{class:"carousel-dots mb-4"},[e("span",{class:"dot"}),e("span",{class:"dot active"})],-1)),E(e("div",_e," Please complete all required fields ",512),[[z,b.value]]),l(y,{text:o.staffMember?"UPDATE STAFF MEMBER":"ADD STAFF MEMBER",backgroundColor:"#489DDA",onClick:A},null,8,["text"])]))}}},U=F(ve,[["__scopeId","data-v-b5f3c51c"]]),be={class:"confirmation-modal"},ge={class:"grid grid-cols-[auto_auto] gap-3 items-baseline"},he={class:"font-bold"},Me={class:"buttons grid gap-2 mt-5"},we={__name:"ConfirmationModal",props:{message:{type:String,required:!0}},emits:["close","confirm"],setup(c,{emit:a}){const s=a,o=()=>{s("confirm")},r=()=>{s("close")},t=()=>{s("close")};return(i,f)=>{const b=x("font-awesome-icon");return n(),d("div",be,[e("div",ge,[l(b,{class:"cursor-pointer mt-2",onClick:t,icon:"arrow-left"}),e("p",he,C(c.message),1)]),e("div",Me,[l(y,{text:"DELETE STAFF MEMBER",backgroundColor:"red",onClick:o}),l(y,{text:"KEEP STAFF MEMBER",fontColor:"#489DDA",onClick:r})])])}}},Ce={class:"grid grid-cols-[1fr_5fr_1fr] gap-4 items-center relative"},ye=["src"],xe={class:"text-sm"},ke={__name:"StaffInOfficeCard",props:{staffMember:{type:Object,required:!0,default:()=>[]},office:{type:Object,required:!0,default:()=>({})}},setup(c){let a=c;const s=_(!1),o=_(!1),r=_(!1),t=B(),i=u=>q[u].src,f=()=>{s.value=!0},b=()=>{s.value=!1},g=()=>{s.value=!1,o.value=!0},m=()=>{o.value=!1},k=()=>{s.value=!1,r.value=!0},h=()=>{r.value=!1},A=async()=>{if(a.staffMember&&a.office)try{await t.dispatch("deleteStaffMember",{officeId:a.office.id,staffMemberId:a.staffMember.id}),h()}catch(u){console.error("Error deleting staff member:",u)}};return(u,p)=>{const D=x("font-awesome-icon");return n(),d("div",Ce,[e("img",{class:"border-2 border-white rounded-full shadow-lg size-10",src:i(c.staffMember.imageId),alt:"Staff Avatar"},null,8,ye),e("h2",xe,C(c.staffMember.firstName)+" "+C(c.staffMember.lastName),1),l(D,{onClick:f,class:"absolute right-0 cursor-pointer",icon:["fas","ellipsis-v"]}),s.value?(n(),M(O,{key:0,onClose:b,showCloseButton:!1},{default:$(()=>[e("div",null,[l(ae,{onClose:b,onOpenEditModal:g,onOpenConfirmationModal:k,office:S(a).office,staffMember:S(a).staffMember},null,8,["office","staffMember"])])]),_:1})):w("",!0),o.value?(n(),M(O,{key:1,onClose:m},{default:$(()=>[e("div",null,[l(U,{onClose:m,staffMember:c.staffMember,office:S(a).office},null,8,["staffMember","office"])])]),_:1})):w("",!0),r.value?(n(),M(O,{key:2,onClose:h,showCloseButton:!1},{default:$(()=>[e("div",null,[l(we,{onClose:h,onConfirm:A,message:"Are you sure you want to delete this staff member?"})])]),_:1})):w("",!0)])}}},Ee={class:"mb-10"},Se={class:"grid grid-cols-[1fr_auto] items-center"},$e={class:"mb-2 mt-4"},Oe={key:0,class:"staff-list grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},Ae={key:1},De={key:0},Ne={key:1},Fe={__name:"StaffInOfficeList",props:{office:{type:Object,required:!0,default:()=>({})}},setup(c){const a=c,s=_(""),o=I(()=>s.value?a.office.staffMembersInOffice.filter(r=>r.firstName.toLowerCase().includes(s.value.toLowerCase())||r.lastName.toLowerCase().includes(s.value.toLowerCase())):a.office.staffMembersInOffice);return(r,t)=>(n(),d("div",Ee,[l(Z,{searchQuery:s.value,"onUpdate:searchQuery":t[0]||(t[0]=i=>s.value=i)},null,8,["searchQuery"]),e("div",Se,[t[1]||(t[1]=e("h1",{class:"text-xl font-bold mb-2 mt-4"},"Staff Members in Office",-1)),e("span",$e,C(o.value.length),1)]),o.value.length?(n(),d("div",Oe,[(n(!0),d(T,null,R(o.value,i=>(n(),M(ke,{key:i.id,staffMember:i,office:a.office},null,8,["staffMember","office"]))),128))])):(n(),d("div",Ae,[a.office.staffMembersInOffice.length?(n(),d("p",Ne,'No staff members match your search for "'+C(s.value)+'"',1)):(n(),d("p",De," There are currently no staff members assigned to this office. "))]))]))}},Be={class:"office-details-page"},Ie={class:"navigation grid grid-cols-[auto,1fr,auto] items-center mb-4"},Le={__name:"OfficeDetailsPage",setup(c){const a=_(!1),s=Y(),o=G(),r=B(),t=_(null),i=()=>{s.push("/")},f=I(()=>r.state.offices),b=r.dispatch.bind(r,"fetchOffices");return K(()=>{b()}),W(()=>{const g=parseInt(o.params.id);t.value=f.value.find(m=>m.id===g)}),(g,m)=>{const k=x("font-awesome-icon");return n(),d("div",Be,[e("span",Ie,[l(k,{onClick:i,class:"",icon:"arrow-left"}),m[3]||(m[3]=e("span",{class:"grid justify-center"},"Office",-1)),l(H,{onClick:m[0]||(m[0]=h=>a.value=!0),text:"Add Staff Member"})]),t.value?(n(),M(J,{key:0,office:t.value,class:"mt-4"},null,8,["office"])):w("",!0),t.value?(n(),M(Fe,{key:1,office:t.value},null,8,["office"])):w("",!0),a.value?(n(),M(O,{key:2,onClose:m[2]||(m[2]=h=>a.value=!1)},{default:$(()=>[l(U,{staffMember:null,office:t.value,onClose:m[1]||(m[1]=h=>a.value=!1)},null,8,["office"])]),_:1})):w("",!0)])}}},je=F(Le,[["__scopeId","data-v-c342921f"]]);export{je as default};
